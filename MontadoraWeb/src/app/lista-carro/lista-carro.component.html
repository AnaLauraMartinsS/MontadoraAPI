<div class="container">
  <nav class="navbar navbar-expand-lg">
    <div class="container-fluid">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a
              class="nav-link active text-white"
              aria-current="page"
              href="/cadastrar"
              >Cadastrar carro</a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <h3 class="text-center mt-4">Carros Cadastrados</h3>
  <div class="row row-cols-4">
    <div class="col-3" *ngFor="let carro of listaCarros">
      <div class="card" style="width: 15rem">
        <div class="card-body">
          <h6 class="card-subtitle mb-2">{{ carro.marca.nome }}</h6>
          <h5 class="card-title">{{ carro.nomeCarro }}</h5>
          <p class="card-text">{{ carro.anoFabricacaoCarro }}</p>
          <p class="card-text">{{ carro.anoModeloCarro }}</p>
          <p class="card-text">{{ carro.modeloCarro }}</p>
          <p class="card-text">Cores: {{ formatarCores(carro.cores) }}</p>
          <button
            type="button"
            class="botao btn btn-primary mt-2 btn-custom"
            *ngIf="carro.idCarro"
            (click)="deletarCarro(carro.idCarro)"
          >
            Deletar
          </button>
          <button
            type="button"
            class="botao btn btn-primary mt-2 btn-custom"
            (click)="iniciarEdicao(carro)"
          >
            Editar
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="modalCarro" >
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center">Editar Carro</h5>
      </div>
      <div class="modal-body">
        <p>Nome do Carro</p>
        <input
          type="text"
          class="form-control"
          placeholder="Insira o nome do carro"
          [(ngModel)] = "nomeCarro"
        />
        <p>Ano de Fabricação</p>
        <input
        type="text"
        class="form-control"
        placeholder="Insira o ano de fabricação"
        [(ngModel)] = "anoFabricacaoCarro"
      />
        <p>Ano Modelo do Carro</p>
        <input
        type="text"
        class="form-control"
        placeholder="Insira o ano modelo do carro"
        [(ngModel)] = "anoModeloCarro"
      />
        <p>Modelo Carro</p>
        <input
        type="text"
        class="form-control"
        placeholder="Insira o modelo do carro"
        [(ngModel)] = "modeloCarro"
      />
        <p>Marca</p>
        <input
        type="text"
        class="form-control"
        placeholder="Insira a marca"
        [(ngModel)] = "marca"
      />
        <p>Cores</p>
        <div class="listaCores" *ngFor="let cor of cores; let i = index">
        <button class=" botaoCores excluirCor" (click)="excluirCor(i)"> X </button>
          {{ cor }}
        </div>
        <div class="input-group mb-3">
          <input
        type="text"
        class="form-control"
        placeholder="Insira a cor"
        [(ngModel)] = "cor"
      />
      <button class="botaoCor btn btn-outline-secondary btn-custom" type="button" id="button-addon2" (click)="adicionarCor()">Inserir cor</button>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="botao btn btn-secondary btn-custom" data-bs-dismiss="modal" (click)="fecharModal()">
          Fechar
        </button>
        <button type="button" class="botao btn btn-primary btn-custom" (click)="carroEditado()">Salvar alterações</button>
      </div>
    </div>
  </div>
</div>
